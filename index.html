<!DOCTYPE html>
<html>

<head>
	<title>Hattrick Tools</title>
	<!--	<link href="https://fonts.googleapis.com/css?family=Slabo+27px" rel="stylesheet">-->
	<link rel="stylesheet" href="custom.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
</head>

<body>
	<div class="container">
		<div class="col-md-6">
			<table class="table">
				<tr>
					<td>
						<div class="form-group">
							<label>Left Defence <span id="ld">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('LD', this.value)">
						</div>
					</td>
					<td>
						<div class="form-group">
							<label>Central Defence <span id="cd">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('CD', this.value)">
						</div>
					</td>
					<td>
						<div class="form-group">
							<label>Right Defence <span id="rd">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('RD', this.value)">
						</div>
					</td>
				</tr>
				<tr>
					<td colspan="3">
						<div class="form-group text-center">
							<label>Midfield <span id="m">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('M', this.value)">
						</div>
					</td>
				</tr>
				<tr>
					<td>
						<div class="form-group">
							<label>Left Attack <span id="la">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('LA', this.value)">
						</div>
					</td>
					<td>
						<div class="form-group">
							<label>Central Attack <span id="ca">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('CA', this.value)">
						</div>
					</td>
					<td>
						<div class="form-group">
							<label>Right Attack <span id="ra">1</span></label>
							<input type="number" step="0.25" min="0" max="20" class="form-control" value="1" onchange="inputChange('RA', this.value)">
						</div>
					</td>
				</tr>
			</table>
		</div>
		<div class="col-md-6">
			<div class="col-md-6 text-center">
				<div id="total_rating">Total: 9</div>
				<div> &nbsp;</div>
				<div id="def">Defence: 3</div>
				<div id="mid">Midfield: 3</div>
				<div id="att">Attack: 3</div>
			</div>
			<div class="col-md-6 text-center">
				<div id="ave_total">Average Total: 3</div>
				<div> &nbsp;</div>
				<div id="ave_def">Average Defence: 1</div>
				<div id="ave_mid">Average Midfield: 1</div>
				<div id="ave_att">Average Attack: 1</div>
			</div>
		</div>
	</div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script>
		var arr = [1, 1, 1, 1, 1, 1, 1];

		function inputChange(pos, value) {
			if (value < 0 || value > 20) value = 0;
			var intValue = Math.floor(value);
			var floatValue = value - intValue;
			var diff = floatValue * 4;
			switch (pos) {
				case 'LD':
					arr[0] = intValue * 4 - 3 + diff;
					break;
				case 'CD':
					arr[1] = intValue * 4 - 3 + diff;
					break;
				case 'RD':
					arr[2] = intValue * 4 - 3 + diff;
					break;
				case 'M':
					arr[3] = intValue * 4 - 3 + diff;
					break;
				case 'LA':
					arr[4] = intValue * 4 - 3 + diff;
					break;
				case 'CA':
					arr[5] = intValue * 4 - 3 + diff;
					break;
				case 'RA':
					arr[6] = intValue * 4 - 3 + diff;
					break;
			}
			$('#ld').html(arr[0]);
			$('#rd').html(arr[1]);
			$('#cd').html(arr[2]);
			$('#m').html(arr[3]);
			$('#la').html(arr[4]);
			$('#ca').html(arr[5]);
			$('#ra').html(arr[6]);

			// Rating
			var def = (arr[0] + arr[1] + arr[2]);
			$('#def').html('Defence: ' + def);
			var mid = (arr[3] * 3);
			$('#mid').html('Midfield: ' + mid);
			var att = (arr[4] + arr[5] + arr[6]);
			$('#att').html('Attack: ' + att);
			$('#total_rating').html('Total: ' + (def + mid + att));

			// Average Rating
			$('#ave_def').html('Average Defence: ' + Math.round(def / 3));
			$('#ave_mid').html('Average Midfield: ' + Math.round(mid / 3));
			$('#ave_att').html('Average Attack: ' + Math.round(att / 3));
			$('#ave_total').html('Average Total: ' + Math.round((def / 3 + mid / 3 + att / 3) / 3));
		}

	</script>
</body>

</html>
